(window.webpackJsonpphonebook=window.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},20:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),o=t.n(u),c=t(14),l=t(2),i=(t(20),function(e){var n=e.handleClick,t=e.text;return r.a.createElement("button",{onClick:n},t)}),m=function(e){var n=e.name,t=e.handleDeleteName;return r.a.createElement("div",null,n.name," ",n.number," ",r.a.createElement(i,{handleClick:function(){return t(n.id)},text:"delete"}))},f=function(e){var n=e.filter,t=e.setFilter;return r.a.createElement("div",null,"Filter Shown with ",r.a.createElement("input",{value:n,onChange:function(e){console.log("event.target.value Filter",e.target.value),t(e.target.value)}}))},d=function(e){var n=e.newName,t=e.newNumber,a=e.addName,u=e.handleNameChange,o=e.handleNumberChange;return r.a.createElement("form",{onSubmit:a},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:u})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:t,onChange:o})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Add")),r.a.createElement("div",null,"debug name: ",n),r.a.createElement("div",null,"debug number: ",t))},s=function(e){var n=e.rows;return r.a.createElement(r.a.Fragment,null,n())},b=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"snackbar"},n)},v=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"error"},n)},h=t(3),p=t.n(h),g="/api/persons",E=function(){return p.a.get(g).then(function(e){return e.data})},w=function(e){return p.a.post(g,e).then(function(e){return e.data})},O=function(e,n){return p.a.put("".concat(g,"/").concat(e),n).then(function(e){return e.data})},j=function(e){return p.a.delete("".concat(g,"/").concat(e)).then(function(e){return e.data})};function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}var N=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),h=i[0],p=i[1],g=Object(a.useState)(""),N=Object(l.a)(g,2),k=N[0],C=N[1],P=Object(a.useState)(""),S=Object(l.a)(P,2),D=S[0],F=S[1],T=Object(a.useState)(null),x=Object(l.a)(T,2),A=x[0],I=x[1],J=Object(a.useState)(null),U=Object(l.a)(J,2),B=U[0],q=U[1];Object(a.useEffect)(function(){console.log("Effect"),E().then(function(e){u(e)})},[]);var z=t.filter(function(e){var n=D.toUpperCase();return e.name.toUpperCase().includes(n)}),G=function(e){window.confirm("Do you really want to delete?")&&(j(e).then(function(){I("Person '".concat(t.find(function(n){return n.id===e}).name,"' was already deleted")),setTimeout(function(){I(null)},5e3)}).catch(function(n){q("Information of '".concat(t.find(function(n){return n.id===e}).name,"' has already been removed from server")),setTimeout(function(){q(null)},5e3)}),u(t.filter(function(n){return n.id!==e})))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(b,{message:A}),r.a.createElement(v,{message:B}),r.a.createElement(f,{filter:D,setFilter:F}),r.a.createElement("h2",null,"Add a New"),r.a.createElement(d,{newName:h,newNumber:k,addName:function(e){e.preventDefault();var n=t.find(function(e){return e.name===h}),a=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(t,!0).forEach(function(n){Object(c.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},n,{number:k});if(t.some(function(e){return e.name===h}))window.confirm("".concat(h," is already added to phonebook, replace the old number with a new one?"))?(O(n.id,a).then(function(e){u(t.map(function(t){return t.id!==n.id?t:e}))}),p(""),C("")):alert("do nothing");else{var r={name:h,number:k,id:t.length+1};w(r).then(function(e){u(t.concat(e)),I("Added '".concat(h,"'")),setTimeout(function(){I(null)},5e3),p(""),C("")}).catch(function(e){console.log(e.response.data.error),q(e.response.data.error),setTimeout(function(){q(null)},5e3)})}},handleNameChange:function(e){console.log("event.target.value Name",e.target.value),p(e.target.value)},handleNumberChange:function(e){console.log("event.target.value Number",e.target.value),C(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(s,{rows:function(){return z.map(function(e,n){return r.a.createElement(m,{key:n,name:e,handleDeleteName:G})})}}))};o.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.55be4b74.chunk.js.map