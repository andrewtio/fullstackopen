{"version":3,"sources":["components/Name.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","components/ErrorMessage.js","services/persons.js","App.js","index.js"],"names":["Button","handleClick","text","onClick","Name","name","handleDeleteName","number","id","Filter","filter","setFilter","value","onChange","event","console","log","target","PersonForm","newName","newNumber","addName","handleNameChange","handleNumberChange","onSubmit","type","Persons","rows","Notification","message","className","ErrorMessage","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","personsToShow","person","filterUpperCase","toUpperCase","includes","window","confirm","find","setTimeout","catch","error","preventDefault","n","changedPerson","some","e","returnedPerson","map","alert","personObject","length","concat","i","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.55be4b74.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Button = ({ handleClick, text }) => (\n  <button onClick={handleClick}>{text}</button>\n);\n\nconst Name = ({ name, handleDeleteName }) => {\n  // console.log(\"name.name\", name.name.includes(persons))\n  return (\n    <div>\n      {name.name} {name.number}{\" \"}\n      <Button handleClick={() => handleDeleteName(name.id)} text={\"delete\"} />\n    </div>\n  );\n};\nexport default Name;\n","import React from 'react'\n\nconst Filter = ({ filter, setFilter }) => {\n\n  const handleFilterChange = event => {\n    console.log(\"event.target.value Filter\", event.target.value)\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      Filter Shown with <input value={filter} onChange={handleFilterChange} />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({\n  newName,\n  newNumber,\n  addName,\n  handleNameChange,\n  handleNumberChange\n}) => {\n\n  return (\n    <form onSubmit={addName}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">Add</button>\n      </div>\n      <div>\n        debug name: {newName}\n      </div>\n      <div>\n        debug number: {newNumber}\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from \"react\";\n\nconst Persons = ({ rows }) => {\n  return <>{rows()}</>;\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"snackbar\">{message}</div>;\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst ErrorMessage = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"error\">{message}</div>;\n};\n\nexport default ErrorMessage;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => {\n    return response.data;\n  });\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, update, deletePerson };\n","import React, { useState, useEffect } from \"react\";\nimport \"./index.css\";\nimport Name from \"./components/Name\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport ErrorMessage from \"./components/ErrorMessage\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    console.log(\"Effect\");\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const personsToShow = persons.filter((person) => {\n    const filterUpperCase = filter.toUpperCase();\n    const personUpperCase = person.name.toUpperCase();\n    return personUpperCase.includes(filterUpperCase);\n  });\n\n  const rows = () =>\n    personsToShow.map((name, i) => (\n      <Name key={i} name={name} handleDeleteName={handleDeleteName} />\n    ));\n\n  const handleDeleteName = (id) => {\n    if (window.confirm(\"Do you really want to delete?\")) {\n      personService\n        .deletePerson(id)\n        .then(() => {\n          setNotificationMessage(\n            `Person '${\n              persons.find((person) => person.id === id).name\n            }' was already deleted`\n          );\n          setTimeout(() => {\n            setNotificationMessage(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          setErrorMessage(\n            `Information of '${\n              persons.find((person) => person.id === id).name\n            }' has already been removed from server`\n          );\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        });\n      setPersons(persons.filter((person) => person.id !== id));\n    }\n  };\n\n  const handleAddName = (event) => {\n    event.preventDefault();\n    const person = persons.find((n) => n.name === newName);\n    const changedPerson = { ...person, number: newNumber };\n\n    if (persons.some((e) => e.name === newName)) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        personService\n          .update(person.id, changedPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((e) => (e.id !== person.id ? e : returnedPerson))\n            );\n          });\n        setNewName(\"\");\n        setNewNumber(\"\");\n      } else {\n        alert(\"do nothing\");\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1,\n      };\n\n      personService\n        .create(personObject)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          setNotificationMessage(`Added '${newName}'`);\n          setTimeout(() => {\n            setNotificationMessage(null);\n          }, 5000);\n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .catch((error) => {\n          console.log(error.response.data.error);\n          setErrorMessage(error.response.data.error);\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        });\n    }\n  };\n\n  const handleNameChange = (event) => {\n    console.log(\"event.target.value Name\", event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    console.log(\"event.target.value Number\", event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  return (\n    <>\n      <h1>Phonebook</h1>\n      <Notification message={notificationMessage} />\n      <ErrorMessage message={errorMessage} />\n      <Filter filter={filter} setFilter={setFilter} />\n      <h2>Add a New</h2>\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        addName={handleAddName}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      <Persons rows={rows} />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}